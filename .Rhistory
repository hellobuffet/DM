1L
class(1)
class(1L)
'123'
"123"
class("wqef")
TRUE
FALSE
posixlt
date
date
c(1)
help(packag="base")
?sum
?base::sum
?sum
?sum
?sample
?base::sample
?base::sampleffffffffff
??sum
help.search(sum)
help.search("sum")
help.search("")
help.search("rpart")
data("iris")
iris
class(1)
class(c(3333))
data("iris")
class(iris)
str(1)
str(iris)
3^2
11%%2
11/2
a=3
a<-3
assign("a",3)
a
character(5)
logical(5)
numeric(5)
integer(5)
x=c(1,2,3,7)
y=c(2,3,5,1)
x+y
x*y
x-y
z=c(1,2,3)
x+z
x*z
z=c(10)
x*z
x+z
x=c(1,2,3,7)
z=c(1,2,3)
x+z
z=c(1,2)
x+z
length(z)
length(c)
length(x)
c(x,z)
x
z
length(c(x,z))
past("the",the",the",the",the")
past("the","the","the","the","the")
paste("the","the","the","the","the")
paste("the","the","the","the","the",sep="-")
length(paste("the","the","the","the","the",sep="-"))
print(c("big","bang"),1:2)
paste(c("big","bang"),1:2)
paste((c("big","bang"),1:2,collapse="+"))
paste(c("big","bang"),1:2,collapse="+")
paste(c("the","the","the","the","the",sep="-"),1:2)
matrix(data=1:99,nrow=3,ncol=3)
matrix(data=1:99,nrow=30,ncol=3)
matrix(data=1:99,nrow=30,ncol=30)
matrix(data=1:99,nrow=30,ncol=30)
matrix(data=1:9,nrow=3,ncol=3)
matrix(data=4:12,nrow=3,ncol=3)
matrix(data=4:12,nrow=30)
matrix(data=4:12,nrow=3)
matrix(data=1:99,nrow=30)
matrix(data=1:99,nrow=33)
h=c(180,169,173)
w=c(73,87,43)
matrix(data=c(h,w),nrow=3)
kevin=c(85,73)
marry=c(72,64)
jerry=c(59,66)
mat=matrix(c(kevin,marry,jerry),nrow=3,byrow=TRUE)
mat
colnames(mat)=c('first','second')
rownames(mat)=c('kevin','marry','jerry')
mat
dim(mat)
nrow(mat)
ncol(mat)
t(mat)
may
c(nat)
c(mat)
mat
mat[1:2,]
mat[mat[,60]<60,'first']
mat[mat[,1]<60,'first']
mat[,1]<60,'first'
mat[mat[,1]<60,'first']
mat[1,]
mat[c('kevin','jerry')]
mat[c('kevin','jerry'),]
mat[c('kevin','jerry'),'first']
mat[mat[,1]<60,]
mat[mat[,1]>=60,]
ribind(mat,c(78,63))
rbind(mat,c(78,63))
mat2=rbind(mat,c(78,63))
mat2
rownames(mat2)
rownames(mat2)[4]
rownames(mat2)[4]="sam"
mat2
mat3=cbind(mat2,c(82,77,70,64))
mat3
colnames(mat3)
colnames(mat3)[3]
colnames(mat3)[3]=third
colnames(mat3)[3]='third'
mat3
kevin=c(85,73)
marry=c(72,64)
jerry=c(59,66)
mat=matrix(c(kevin,marry,jerry),nrow=3,byrow=TRUE)
mat
weighting=c(0.4,0.6)
weighting
matrix(c(weighting),ncol = 2)
matrix(c(weighting),ncol = 2,byrow=FALSE)
matrix(c(weighting),nrow = 2,byrow=FALSE)
matrix(c(weighting),nrow = 2)
weighting=matrix(c(weighting),nrow = 2)
mat%*%weighting
tmp=c(1,1,2,3,NA)
tmp
is.na(tmp)
!is.na(tmp)
sum(tmp[!is.na(tmp)])
weather=c("s","r","c","r","c")
weather_factor = factor(weather)
levels(weather_factor)
levels(weather_factor)=c("cloudy","rainy","sunny")
weather_factor
data(iris)
data("iris")
force(iris)
str(iris)
summary((iris))
head(iris)
tail(irir)
tail(iris)
iris$Species=='srtosa'
which(iris$Species=='srtosa')
which(iris$Species == 'srtosa')
iris
# getwd()
setwd('~/lecture/riii')
name <- c("Joe", "Bob", "Vicky")
age <- c(28, 26, 34)
gender <- c("Male","Male","Female")
df <- data.frame(name, age, gender)
class(df)
str(df)
summary(df)
data(iris)
head(iris)
tail(iris)
tail(iris, 10)
str(iris)
#取前三列資料
iris[1:3,]
#取前三列第一行的資料
iris[1:3,1]
#取前三列Sepal.Length欄位的資料
iris[1:3,"Sepal.Length"]
head(iris[,1:2])
iris$"Sepal.Length"[1:3]
set.seed(123)
x<-rnorm(1000000,mean=20,sd=5)
hist(x)
summary(x)
x<-rnorm(100000,mean=20,sd=5)
hist(x)
summary(x)
x<-runif(60000,1,6)
hist(x)
summary(x)
data("iris")
shapiro.test(iris$Petal.Length)
hist(iris$Petal.Length,prob=T)
curve(dnorm(x,mean(iris$Petal.Length),sd(iris$Petal.Length)),col="red",add=T)
shapiro.test(iris$Sepal.Width)
hist(iris$Sepal.Width.prob=T)
curve(dnorm(x,mean(iris$Sepal.Width),sd(iris$Sepal.Width)),col="red",add=T)
install.packages('C50')
library(C50)
?(churn)
data(churn)
str(churnTrain)
t.test(churnTrain$total_day_calls,mu=160,alternative = "two.sided")
var.test(churnTrain$total_day_calls[churnTrain$area_code=="area_code_408"]and churnTrain$total_day_calls[churnTrain$area_code == "area_code_415"])
var.test(churnTrain$total_day_calls[churnTrain$area_code=="area_code_408"], churnTrain$total_day_calls[churnTrain$area_code == "area_code_415"])
Crd_amt_before <- rnorm(10000,mean=4032,sd=570)
Crd_amt_after <- rnorm(10000,mean=5661,sd=690)
t.test(Crd_amt_before,Crd_amt_after,mu=0,paired = T,var.equal = F)
?(t.test)
help(t.test)
dt <-matrix(c(38,45,100,77),ncol=2)
chisq.test(dt)
#P197-相關係數檢定
cor.test(churnTrain$total_day_calls,churnTrain$total_day_calls)
#P197-相關係數檢定
cor(churnTrain$total_day_calls,churnTrain$total_day_calls)
#P197-相關係數檢定
cor(churnTrain$total_night_calls,churnTrain$total_day_calls)
cor.test(churnTrain$total_night_calls,churnTrain$total_day_calls)
#P198-單因子變異數檢定
df<-data.frame(
group=c(rep(1,20),rep(2,20),rep(3,20)),
GoInternet = floor(runif(n=60,min=1,max=10))
)
lm_df<lm(GoInternet~group,data=df)
Im_df<lm(GoInternet~group,data=df)
lm_df<-lm(GoInternet~group,data=df)
anova(lm_df)
lm_df<-lm(group~GoInternet,data=df)
anova(lm_df)
#P205-實作--藥劑量與感冒痊癒天數的簡單回歸模型
x<-c(3,3,4,3,6,8,8,9)
y<-c(22,25,18,20,16,9,12,5)
New_x<-data.frame(x=5)
Train <-data.frame(x=x,y=y)
lmTrain<-lm(formula=y~x,data=Train)
predicted <- predict(lmTrain,newdata=New_x)
summary(lmTrain)
summary(lmTrain)
plot(y~x,family="stheiti")
points(x=New_x,y=predicted,col="green",cex=2,pch=16)
abline(reg = lmTrain$coefficients,col="red",lwd=1)
#P207
x1<-c(3,3,4,3,6,8,8,9)
x2<-c(3,1,6,4,9,10,8,11)
#P207
x1<-c(3,3,4,3,6,8,8,9)
x1<-c(3,3,4,3,6,8,8,9)
x2<-c(3,1,6,4,9,10,8,11)
y<-c(22,25,18,20,16,9,12,5)
New_x1<-5
New_x2<-7
New_data<-data.frame(x1=5,x2=7)
Train<-data.frame(x1=x1,x2=x2,y=y)
lmTrain<-lm(formula=y~.,data=Train)
predicted<-predict(lmTrain,newdata=New_data)
predicted
summary(lmTrain)
#P209
install.packages("repart")
#P209
geted()
#P209
getwd()
setwd("E:\DM")
setwd("E:/DM")
babyData=read.table(".\DM\babies",header=T,sep=",")
babyData=read.table("./DM/babies",header=T,sep=",")
babyData=read.table("./DM/babies.csv",header=T,sep=",")
babyData=na.exclude(babyData)
n=0.3*nrow(babyData)
test.index=sample(1:nrow(babyData),n)
Train = babyData[-test.index,]
Test=babyData[test.index,]
par(mfrow=c(1,3))
hist(babyData$bwt)
hist(Train$bwt)
hist(Test$bwt)
library(rpart)
baby.tree=rpart(btw~.,data=Train)
baby.tree
plot(baby.tree)
baby.tree=rpart(btw~.,data=Train)
baby.tree=rpart(bwt~.,data=Train)
baby.tree
plot(baby.tree)
text(baby.tree,cex=.8)
#P203變數降維
install.packages("C50")
library("C50")
install.packages("C50")
install.packages("C50")
data(churn)
library("C50")
data(churn)
data<-churnTrain[-1,-3,-4,-5,-20]
data<-churnTrain[,c(-1,-3,-4,-5,-20)]
pca_Traindt <-princomp(data,cor=T)
summary(pca_Traindt)
screeplot(pca_Traindt,type="lines")
p<-predict(pca_Traindt)
head(p,5)
p[,c(1:7)]
#P215
install.packages("class")
library(class)
data("iris")
data
data(iris)
set.seed(123)
n <-nrow(iris)
train_idx <-sample(seq_len(n),size=round(0.7*n))
traindata<-iris[train_idx,]
testdata<-iris[-train_idx,]
train_y <-traindata[,5]
test_y <-testdata[,5]
k_set <-as.integer(sqrt(n))
pred<-knn(train=traindata[-5],test=testdata[-5],cl=train_y,k=k_set)
message("精準度：",sum(diag(table(test_y,pred)))/sum(table(test_y,pred))*100,"%")
